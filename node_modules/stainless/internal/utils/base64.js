"use strict";
// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.
Object.defineProperty(exports, "__esModule", { value: true });
exports.fromBase64 = exports.toBase64 = void 0;
const error_1 = require("../../error.js");
const toBase64 = (data) => {
    if (!data)
        return '';
    if (typeof data === 'string') {
        data = new TextEncoder().encode(data);
    }
    if (typeof Buffer !== 'undefined') {
        return Buffer.from(data).toString('base64');
    }
    if (typeof btoa !== 'undefined') {
        return btoa(String.fromCharCode.apply(null, data));
    }
    throw new error_1.StainlessError('Cannot generate base64 string; Expected `Buffer` or `btoa` to be defined');
};
exports.toBase64 = toBase64;
const fromBase64 = (str) => {
    if (typeof Buffer !== 'undefined') {
        return new Uint8Array(Buffer.from(str, 'base64'));
    }
    if (typeof atob !== 'undefined') {
        return new Uint8Array(atob(str)
            .split('')
            .map((c) => c.charCodeAt(0)));
    }
    throw new error_1.StainlessError('Cannot decode base64 string; Expected `Buffer` or `atob` to be defined');
};
exports.fromBase64 = fromBase64;
//# sourceMappingURL=base64.js.map